{namespace s=SJBR\StaticInfoTables\ViewHelpers}
{namespace ats=PAGEmachine\Ats\ViewHelpers}
{namespace core = TYPO3\CMS\Core\ViewHelpers}

<fieldset id="tx-ats-languageform">
	<div class="row">
		<div class="col-sm-2">
			<label><f:translate key="tx_ats.application.languageskills" /></label>
		</div>

		<div class="col-sm-10" id="languages">
				<input type="hidden" name="tx_ats[application][languageSkills]" value="" />

				<f:for each="{application.languageSkills}" as="skill" iteration="i">

					<div class="form-inline row" data-language="{i.index}">

						<f:form.hidden property="languageSkills.{i.index}" value="{skill}" />

						<div class="form-group col-sm-3">
							<label><f:translate key="tx_ats.languageskill.language" /></label>
							<s:form.select class="language-select form-control" property="languageSkills.{i.index}.language" staticInfoTable="language" options="{}" prependOptionLabel="{f:translate(key: 'tx_ats.prepend.select')}" prependOptionValue="" />
						</div>

						<div class="form-group col-sm-3">
							<label><f:translate key="tx_ats.languageskill.textLanguage" /></label>
							<f:form.textfield property="languageSkills.{i.index}.textLanguage" />
						</div>

						<div class="form-group col-sm-3">
							<label><f:translate key="tx_ats.languageskill.level" /></label>
							<ats:form.translatableSelect class="level-select form-control" translationPrefix="tx_ats.languageskill.level." options="{1:1, 2:2, 3:3, 4:4}" property="languageSkills.{i.index}.level"  prependOptionLabel="{f:translate(key: 'tx_ats.prepend.select')}" prependOptionValue="" />
						</div>

						<div class="form-group col-sm-3">
							<span class="btn btn-default btn-xs" data-action="removeLanguage" data-language="{i.index}">
								<core:icon identifier="actions-edit-delete" size="small" />
								<f:translate key="tx_ats.languageskill.rmLanguage">Remove</f:translate>
							</span>
						</div>
					</div>

				</f:for>

		</div>


	</div>
	<div class="row">
		<div class="col-sm-10 col-sm-offset-2"><span class="btn btn-default" data-action="addLanguage"><core:icon identifier="actions-edit-add" size="small" /> <f:translate key="tx_ats.languageskill.addLanguage">Add Language</f:translate></span>
	</div>


	<div class="tx-ats-addlanguage form-inline row" data-language="999">

		<div class="form-group col-sm-3">
				<label><f:translate key="tx_ats.languageskill.language" /></label>
				<s:form.select class="language-select form-control" property="languageSkills.999.language" staticInfoTable="language" options="{}" prependOptionLabel="{f:translate(key: 'tx_ats.prepend.select')}" prependOptionValue="" />
		</div>

		<div class="form-group col-sm-3">
			<label><f:translate key="tx_ats.languageskill.textLanguage" /></label>
			<f:form.textfield class="textlanguage" property="languageSkills.999.textLanguage" />
		</div>

		<div class="form-group col-sm-3">
			<label><f:translate key="tx_ats.languageskill.level" /></label>
			<ats:form.translatableSelect class="level-select form-control" translationPrefix="tx_ats.languageskill.level." options="{1:1, 2:2, 3:3, 4:4}" property="languageSkills.999.level"  prependOptionLabel="{f:translate(key: 'tx_ats.prepend.select')}" prependOptionValue="" />
		</div>

		<div class="form-group col-sm-3">
			<span class="btn btn-default btn-xs remove-button" data-action="removeLanguage" data-language="999">
				<core:icon identifier="actions-edit-delete" size="small" />
				Remove
			</span>
		</div>
	</div>

</fieldset>
